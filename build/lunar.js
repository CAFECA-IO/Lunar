/*! For license information please see lunar.js.LICENSE.txt */
(()=>{var e={751:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new R(n||[]);return i._invoke=function(e,t,r){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=f(e,t,r);if("normal"===u.type){if(n=r.done?y:h,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=y,r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l="suspendedStart",h="suspendedYield",p="executing",y="completed",d={};function m(){}function v(){}function g(){}var b={};u(b,i,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==r&&n.call(k,i)&&(b=k);var x=g.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function E(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=f(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:C}}function C(){return{value:t,done:!0}}return v.prototype=g,u(x,"constructor",g),u(g,"constructor",v),v.displayName=u(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(O.prototype),u(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},375:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:()=>I}),e=r.hmd(e);var o="input is invalid type",i="object"===("undefined"==typeof window?"undefined":n(window)),a=i?window:{};a.JS_SHA3_NO_WINDOW&&(i=!1);var c=!i&&"object"===("undefined"==typeof self?"undefined":n(self));!a.JS_SHA3_NO_NODE_JS&&"object"===("undefined"==typeof process?"undefined":n(process))&&process.versions&&process.versions.node?a=r.g:c&&(a=self),!a.JS_SHA3_NO_COMMON_JS&&"object"===n(e)&&e.exports,"function"==typeof define&&r.amdO;var u=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),f=[4,1024,262144,67108864],l=[0,8,16,24],h=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],p=[224,256,384,512],y=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],m={128:168,256:136};!a.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!u||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===n(e)&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,r){return function(n){return new P(e,t,e).update(n)[r]()}},g=function(e,t,r){return function(n,o){return new P(e,t,o).update(n)[r]()}},b=function(e,t,r){return function(t,n,o,i){return O["cshake"+e].update(t,n,o,i)[r]()}},w=function(e,t,r){return function(t,n,o,i){return O["kmac"+e].update(t,n,o,i)[r]()}},k=function(e,t,r,n){for(var o=0;o<d.length;++o){var i=d[o];e[i]=t(r,n,i)}return e},x=function(e,t){var r=v(e,t,"hex");return r.create=function(){return new P(e,t,e)},r.update=function(e){return r.create().update(e)},k(r,v,e,t)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:p,createMethod:x},{name:"sha3",padding:[6,1536,393216,100663296],bits:p,createMethod:x},{name:"shake",padding:[31,7936,2031616,520093696],bits:y,createMethod:function(e,t){var r=g(e,t,"hex");return r.create=function(r){return new P(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},k(r,g,e,t)}},{name:"cshake",padding:f,bits:y,createMethod:function(e,t){var r=m[e],n=b(e,0,"hex");return n.create=function(n,o,i){return o||i?new P(e,t,n).bytepad([o,i],r):O["shake"+e].create(n)},n.update=function(e,t,r,o){return n.create(t,r,o).update(e)},k(n,b,e,t)}},{name:"kmac",padding:f,bits:y,createMethod:function(e,t){var r=m[e],n=w(e,0,"hex");return n.create=function(n,o,i){return new B(e,t,o).bytepad(["KMAC",i],r).bytepad([n],r)},n.update=function(e,t,r,o){return n.create(e,r,o).update(t)},k(n,w,e,t)}}],O={},E=[],S=0;S<_.length;++S)for(var A=_[S],R=A.bits,T=0;T<R.length;++T){var C=A.name+"_"+R[T];if(E.push(C),O[C]=A.createMethod(R[T],A.padding),"sha3"!==A.name){var N=A.name+R[T];E.push(N),O[N]=O[C]}}function P(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function B(e,t,r){P.call(this,e,t,r)}P.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=n(e);if("string"!==r){if("object"!==r)throw new Error(o);if(null===e)throw new Error(o);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var i,a,c=this.blocks,s=this.byteCount,f=e.length,h=this.blockCount,p=0,y=this.s;p<f;){if(this.reset)for(this.reset=!1,c[0]=this.block,i=1;i<h+1;++i)c[i]=0;if(t)for(i=this.start;p<f&&i<s;++p)c[i>>2]|=e[p]<<l[3&i++];else for(i=this.start;p<f&&i<s;++p)(a=e.charCodeAt(p))<128?c[i>>2]|=a<<l[3&i++]:a<2048?(c[i>>2]|=(192|a>>6)<<l[3&i++],c[i>>2]|=(128|63&a)<<l[3&i++]):a<55296||a>=57344?(c[i>>2]|=(224|a>>12)<<l[3&i++],c[i>>2]|=(128|a>>6&63)<<l[3&i++],c[i>>2]|=(128|63&a)<<l[3&i++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++p)),c[i>>2]|=(240|a>>18)<<l[3&i++],c[i>>2]|=(128|a>>12&63)<<l[3&i++],c[i>>2]|=(128|a>>6&63)<<l[3&i++],c[i>>2]|=(128|63&a)<<l[3&i++]);if(this.lastByteIndex=i,i>=s){for(this.start=i-s,this.block=c[h],i=0;i<h;++i)y[i]^=c[i];j(y),this.reset=!0}else this.start=i}return this},P.prototype.encode=function(e,t){var r=255&e,n=1,o=[r];for(r=255&(e>>=8);r>0;)o.unshift(r),r=255&(e>>=8),++n;return t?o.push(n):o.unshift(n),this.update(o),o.length},P.prototype.encodeString=function(e){var t,r=n(e);if("string"!==r){if("object"!==r)throw new Error(o);if(null===e)throw new Error(o);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}var i=0,a=e.length;if(t)i=a;else for(var c=0;c<e.length;++c){var s=e.charCodeAt(c);s<128?i+=1:s<2048?i+=2:s<55296||s>=57344?i+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++c)),i+=4)}return i+=this.encode(8*i),this.update(e),i},P.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var o=t-r%t,i=[];return i.length=o,this.update(i),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];j(n)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,i=0,a=0,c="";a<n;){for(i=0;i<t&&a<n;++i,++a)e=r[i],c+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];a%t==0&&(j(r),i=0)}return o&&(e=r[i],c+=s[e>>4&15]+s[15&e],o>1&&(c+=s[e>>12&15]+s[e>>8&15]),o>2&&(c+=s[e>>20&15]+s[e>>16&15])),c},P.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,i=0,a=0,c=this.outputBits>>3;e=o?new ArrayBuffer(n+1<<2):new ArrayBuffer(c);for(var u=new Uint32Array(e);a<n;){for(i=0;i<t&&a<n;++i,++a)u[a]=r[i];a%t==0&&j(r)}return o&&(u[i]=r[i],e=e.slice(0,c)),e},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,o=this.outputBlocks,i=this.extraBytes,a=0,c=0,u=[];c<o;){for(a=0;a<r&&c<o;++a,++c)e=c<<2,t=n[a],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;c%r==0&&j(n)}return i&&(e=c<<2,t=n[a],u[e]=255&t,i>1&&(u[e+1]=t>>8&255),i>2&&(u[e+2]=t>>16&255)),u},B.prototype=new P,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var j=function(e){var t,r,n,o,i,a,c,u,s,f,l,p,y,d,m,v,g,b,w,k,x,_,O,E,S,A,R,T,C,N,P,B,j,I,U,L,D,M,H,F,G,z,W,q,V,$,J,Y,X,Z,K,Q,ee,te,re,ne,oe,ie,ae,ce,ue,se,fe;for(n=0;n<48;n+=2)o=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],s=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(p=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|c>>>31),r=(y=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|a>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=o^(u<<1|s>>>31),r=i^(s<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=a^(f<<1|l>>>31),r=c^(l<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(p<<1|y>>>31),r=s^(y<<1|p>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(o<<1|i>>>31),r=l^(i<<1|o>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,d=e[0],m=e[1],$=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,ce=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,z=e[40]<<18|e[41]>>>14,W=e[41]<<18|e[40]>>>14,I=e[2]<<1|e[3]>>>31,U=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,se=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,K=e[35]<<15|e[34]>>>17,B=e[45]<<29|e[44]>>>3,j=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,oe=e[16]<<23|e[17]>>>9,M=e[26]<<25|e[27]>>>7,H=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,R=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,F=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,O=e[49]<<14|e[48]>>>18,e[0]=d^~v&b,e[1]=m^~g&w,e[10]=E^~A&T,e[11]=S^~R&C,e[20]=I^~L&M,e[21]=U^~D&H,e[30]=q^~$&Y,e[31]=V^~J&X,e[40]=te^~ne&ie,e[41]=re^~oe&ae,e[2]=v^~b&k,e[3]=g^~w&x,e[12]=A^~T&N,e[13]=R^~C&P,e[22]=L^~M&F,e[23]=D^~H&G,e[32]=$^~Y&Z,e[33]=J^~X&K,e[42]=ne^~ie&ce,e[43]=oe^~ae&ue,e[4]=b^~k&_,e[5]=w^~x&O,e[14]=T^~N&B,e[15]=C^~P&j,e[24]=M^~F&z,e[25]=H^~G&W,e[34]=Y^~Z&Q,e[35]=X^~K&ee,e[44]=ie^~ce&se,e[45]=ae^~ue&fe,e[6]=k^~_&d,e[7]=x^~O&m,e[16]=N^~B&E,e[17]=P^~j&S,e[26]=F^~z&I,e[27]=G^~W&U,e[36]=Z^~Q&q,e[37]=K^~ee&V,e[46]=ce^~se&te,e[47]=ue^~fe&re,e[8]=_^~d&v,e[9]=O^~m&g,e[18]=B^~E&A,e[19]=j^~S&R,e[28]=z^~I&L,e[29]=W^~U&D,e[38]=Q^~q&$,e[39]=ee^~V&J,e[48]=se^~te&ne,e[49]=fe^~re&oe,e[0]^=h[n],e[1]^=h[n+1]};const I=O},679:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"keys",get:function(){return Object.keys(this)}},{key:"findByChainId",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.toString(16);return 0!=r.indexOf("0x")&&(r="0x".concat(r)),this.keys.map((function(t){return e[t]})).find((function(e){return parseInt(e.chainId)==parseInt(r)}))}}],null&&n(t.prototype,null),r&&n(t,r),e}();o(i,"Avax",{chainId:"0xa86a",chainName:"Avalanche Network",nativeCurrency:{symbol:"AVAX"},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],blockExplorerUrls:["https://cchain.explorer.avax.network/"]}),o(i,"BSC",{chainId:"0x38",chainName:"Binance Smart Chain Mainnet",nativeCurrency:{symbol:"BNB"},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com/"]}),o(i,"BSCTestnet",{chainId:"0x61",chainName:"Binance Smart Chain Testnet",nativeCurrency:{symbol:"BNB"},rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545/"],blockExplorerUrls:["https://testnet.bscscan.com"]}),o(i,"Ethereum",{chainId:"0x1",chainName:"Ethereum",nativeCurrency:{symbol:"ETH",decimals:18}}),o(i,"FUJI",{chainId:"0xa869",chainName:"Avalanche Network",nativeCurrency:{symbol:"AVAX"},rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorerUrls:["https://cchain.explorer.avax-test.network"]}),o(i,"Huobi",{chainId:"0x80",chainName:"HuobiChain",nativeCurrency:{symbol:"HT"},rpcUrls:["https://http-mainnet-node.huobichain.com/"],blockExplorerUrls:["https://hecoinfo.com/"]}),o(i,"HuobiTestnet",{chainId:"0x100",chainName:"HuobiChain Testnet",nativeCurrency:{symbol:"HT"},rpcUrls:["https://http-testnet.hecochain.com/"],blockExplorerUrls:["https://scan-testnet.hecochain.com"]}),o(i,"Matic",{chainId:"0x89",chainName:"Polygon",nativeCurrency:{symbol:"MATIC"},rpcUrls:["https://rpc-mainnet.maticvigil.com/"],blockExplorerUrls:["https://explorer.matic.network/"]}),o(i,"Mumbai",{chainId:"0x13881",chainName:"Polygon Testnet",nativeCurrency:{symbol:"MATIC"},rpcUrls:["https://rpc-mumbai.maticvigil.com/"],blockExplorerUrls:["https://mumbai-explorer.matic.today/"]}),o(i,"Ropsten",{chainId:"0x3",chainName:"ETH testnet Ropsten",nativeCurrency:{symbol:"ETH",decimals:18}}),o(i,"Tidetime",{chainId:"0x1f51",chainName:"Tidetime",nativeCurrency:{name:"Tidetime Token",symbol:"TTT",decimals:18},rpcUrls:["https://rpc.tidebit.network"],blockExplorerUrls:["https://explorer.tidebit.network"],iconUrls:["https://iconape.com/wp-content/png_logo_vector/tidebit.png"]}),o(i,"xDAI",{chainId:"0x64",chainName:"xDai",nativeCurrency:{symbol:"xDAI"},rpcUrls:["https://rpc.xdaichain.com/"],blockExplorerUrls:["https://blockscout.com/xdai/mainnet"]}),o(i,"AvaxTestnet",i.FUJI),o(i,"EthereumTestnet",i.Ropsten),o(i,"Polygon",i.Matic);const a=i;function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};c(u,"Metamask","Metamask"),c(u,"imToken","imToken"),c(u,"TideWallet","TideWallet"),c(u,"Trust","Trust");const s=u;function f(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"_isConnected",!1),h(this,"_address",void 0),h(this,"_blockchain",void 0),h(this,"_assets",[])}var t,r,n,o;return t=e,r=[{key:"isConnected",get:function(){return this._isConnected}},{key:"blockchain",get:function(){return this._blockchain}},{key:"address",get:function(){return this._address}},{key:"type",get:function(){return this._type}},{key:"wallet",get:function(){}},{key:"init",value:(n=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){f(i,r,o,a,c,"next",e)}function c(e){f(i,r,o,a,c,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"on",value:function(e,t){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"send",value:function(e){e.to,e.amount,e.data}},{key:"getAsset",value:function(e){e.contract}},{key:"getBalance",value:function(e){e.contract,e.address}},{key:"getData",value:function(e){e.contract,e.data,e.func,e.params}},{key:"interfaceOf",value:function(e){e.contract,e.abi}}],r&&l(t.prototype,r),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=b(t);if(r){var o=b(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return v(this,e)});function o(){var e;d(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return w(g(e=n.call.apply(n,[this].concat(r))),"_type",s.TideWallet),e}return o}(p);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function E(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=A(t);if(r){var o=A(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return E(this,e)});function o(){var e;_(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return R(S(e=n.call.apply(n,[this].concat(r))),"_type",s.imToken),e}return o}(p);function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"startWith",value:function(e,t){var r;try{e.startsWith(t)||(r=t.concat(e))}catch(t){r=e}return r}},{key:"chunkSubstr",value:function(e,t){for(var r=Math.ceil(e.length/t),n=new Array(r),o=0,i=0;o<r;++o,i+=t)n[o]=e.substr(i,t);return n}},{key:"stringToHex",value:function(e){var t,r,n=[],o=1;if("string"==typeof e){t=e;for(var i=0;i<t.length;i++){var a=t.charCodeAt(i)+1,c=Math.ceil(Math.log(a)/Math.log(256));o=c>o?c:o,n[i]=t.charCodeAt(i).toString(16).padStart(2*c,"0")}r=(n=n.map((function(e){return e.padStart(2*o,"0")}))).join("")}else try{r=e.toString(16)}catch(e){r=""}return r}},{key:"isHex",value:function(e){return/^0x[a-fA-F0-9]*$/.test(e)}},{key:"toHex",value:function(e){var t;if(null==e)t="";else if(this.isHex(e))t=e.substr(2);else if(Number.isInteger(e))t=e.toString(16);else if("string"==typeof e)t=this.stringToHex(e);else try{t=e.toString(16)}catch(e){t=""}return t}}],null&&C(t.prototype,null),r&&C(t,r),e}();var P=r(375);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}var j,I=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,U=Math.ceil,L=Math.floor,D="[BigNumber Error] ",M=D+"Number primitive has more than 15 significant digits: ",H=1e14,F=14,G=9007199254740991,z=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],W=1e7,q=1e9;function V(e){var t=0|e;return e>0||e===t?t:t-1}function $(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(t=e[n++]+"",r=F-t.length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function J(e,t){var r,n,o=e.c,i=t.c,a=e.s,c=t.s,u=e.e,s=t.e;if(!a||!c)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-c:a;if(a!=c)return a;if(r=a<0,n=u==s,!o||!i)return n?0:!o^r?1:-1;if(!n)return u>s^r?1:-1;for(c=(u=o.length)<(s=i.length)?u:s,a=0;a<c;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return u==s?0:u>s^r?1:-1}function Y(e,t,r,n){if(e<t||e>r||e!==L(e))throw Error(D+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function X(e){var t=e.c.length-1;return V(e.e/F)==t&&e.c[t]%2!=0}function Z(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function K(e,t,r){var n,o;if(t<0){for(o=r+".";++t;o+=r);e=o+e}else if(++t>(n=e.length)){for(o=r,t-=n;--t;o+=r);e+=o}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}j=function e(t){var r,n,o,i,a,c,u,s,f,l,h=E.prototype={constructor:E,toString:null,valueOf:null},p=new E(1),y=20,d=4,m=-7,v=21,g=-1e7,b=1e7,w=!1,k=1,x=0,_={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},O="0123456789abcdefghijklmnopqrstuvwxyz";function E(e,t){var r,i,a,c,u,s,f,l,h=this;if(!(h instanceof E))return new E(e,t);if(null==t){if(e&&!0===e._isBigNumber)return h.s=e.s,void(!e.c||e.e>b?h.c=h.e=null:e.e<g?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice()));if((s="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,u=e;u>=10;u/=10,c++);return void(c>b?h.c=h.e=null:(h.e=c,h.c=[e]))}l=String(e)}else{if(!I.test(l=String(e)))return o(h,l,s);h.s=45==l.charCodeAt(0)?(l=l.slice(1),-1):1}(c=l.indexOf("."))>-1&&(l=l.replace(".","")),(u=l.search(/e/i))>0?(c<0&&(c=u),c+=+l.slice(u+1),l=l.substring(0,u)):c<0&&(c=l.length)}else{if(Y(t,2,O.length,"Base"),10==t)return T(h=new E(e),y+h.e+1,d);if(l=String(e),s="number"==typeof e){if(0*e!=0)return o(h,l,s,t);if(h.s=1/e<0?(l=l.slice(1),-1):1,E.DEBUG&&l.replace(/^0\.0*|\./,"").length>15)throw Error(M+e)}else h.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1;for(r=O.slice(0,t),c=u=0,f=l.length;u<f;u++)if(r.indexOf(i=l.charAt(u))<0){if("."==i){if(u>c){c=f;continue}}else if(!a&&(l==l.toUpperCase()&&(l=l.toLowerCase())||l==l.toLowerCase()&&(l=l.toUpperCase()))){a=!0,u=-1,c=0;continue}return o(h,String(e),s,t)}s=!1,(c=(l=n(l,t,10,h.s)).indexOf("."))>-1?l=l.replace(".",""):c=l.length}for(u=0;48===l.charCodeAt(u);u++);for(f=l.length;48===l.charCodeAt(--f););if(l=l.slice(u,++f)){if(f-=u,s&&E.DEBUG&&f>15&&(e>G||e!==L(e)))throw Error(M+h.s*e);if((c=c-u-1)>b)h.c=h.e=null;else if(c<g)h.c=[h.e=0];else{if(h.e=c,h.c=[],u=(c+1)%F,c<0&&(u+=F),u<f){for(u&&h.c.push(+l.slice(0,u)),f-=F;u<f;)h.c.push(+l.slice(u,u+=F));u=F-(l=l.slice(u)).length}else u-=f;for(;u--;l+="0");h.c.push(+l)}}else h.c=[h.e=0]}function S(e,t,r,n){var o,i,a,c,u;if(null==r?r=d:Y(r,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)u=$(e.c),u=1==n||2==n&&(a<=m||a>=v)?Z(u,a):K(u,a,"0");else if(i=(e=T(new E(e),t,r)).e,c=(u=$(e.c)).length,1==n||2==n&&(t<=i||i<=m)){for(;c<t;u+="0",c++);u=Z(u,i)}else if(t-=a,u=K(u,i,"0"),i+1>c){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=i-c)>0)for(i+1==c&&(u+=".");t--;u+="0");return e.s<0&&o?"-"+u:u}function A(e,t){for(var r,n=1,o=new E(e[0]);n<e.length;n++){if(!(r=new E(e[n])).s){o=r;break}t.call(o,r)&&(o=r)}return o}function R(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+r*F-1)>b?e.c=e.e=null:r<g?e.c=[e.e=0]:(e.e=r,e.c=t),e}function T(e,t,r,n){var o,i,a,c,u,s,f,l=e.c,h=z;if(l){e:{for(o=1,c=l[0];c>=10;c/=10,o++);if((i=t-o)<0)i+=F,a=t,f=(u=l[s=0])/h[o-a-1]%10|0;else if((s=U((i+1)/F))>=l.length){if(!n)break e;for(;l.length<=s;l.push(0));u=f=0,o=1,a=(i%=F)-F+1}else{for(u=c=l[s],o=1;c>=10;c/=10,o++);f=(a=(i%=F)-F+o)<0?0:u/h[o-a-1]%10|0}if(n=n||t<0||null!=l[s+1]||(a<0?u:u%h[o-a-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):f>5||5==f&&(4==r||n||6==r&&(i>0?a>0?u/h[o-a]:0:l[s-1])%10&1||r==(e.s<0?8:7)),t<1||!l[0])return l.length=0,n?(t-=e.e+1,l[0]=h[(F-t%F)%F],e.e=-t||0):l[0]=e.e=0,e;if(0==i?(l.length=s,c=1,s--):(l.length=s+1,c=h[F-i],l[s]=a>0?L(u/h[o-a]%h[a])*c:0),n)for(;;){if(0==s){for(i=1,a=l[0];a>=10;a/=10,i++);for(a=l[0]+=c,c=1;a>=10;a/=10,c++);i!=c&&(e.e++,l[0]==H&&(l[0]=1));break}if(l[s]+=c,l[s]!=H)break;l[s--]=0,c=1}for(i=l.length;0===l[--i];l.pop());}e.e>b?e.c=e.e=null:e.e<g&&(e.c=[e.e=0])}return e}function C(e){var t,r=e.e;return null===r?e.toString():(t=$(e.c),t=r<=m||r>=v?Z(t,r):K(t,r,"0"),e.s<0?"-"+t:t)}return E.clone=e,E.ROUND_UP=0,E.ROUND_DOWN=1,E.ROUND_CEIL=2,E.ROUND_FLOOR=3,E.ROUND_HALF_UP=4,E.ROUND_HALF_DOWN=5,E.ROUND_HALF_EVEN=6,E.ROUND_HALF_CEIL=7,E.ROUND_HALF_FLOOR=8,E.EUCLID=9,E.config=E.set=function(e){var t,r;if(null!=e){if("object"!=B(e))throw Error(D+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Y(r=e[t],0,q,t),y=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(Y(r=e[t],0,8,t),d=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(Y(r[0],-q,0,t),Y(r[1],0,q,t),m=r[0],v=r[1]):(Y(r,-q,q,t),m=-(v=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)Y(r[0],-q,-1,t),Y(r[1],1,q,t),g=r[0],b=r[1];else{if(Y(r,-q,q,t),!r)throw Error(D+t+" cannot be zero: "+r);g=-(b=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(D+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw w=!r,Error(D+"crypto unavailable");w=r}else w=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(Y(r=e[t],0,9,t),k=r),e.hasOwnProperty(t="POW_PRECISION")&&(Y(r=e[t],0,q,t),x=r),e.hasOwnProperty(t="FORMAT")){if("object"!=B(r=e[t]))throw Error(D+t+" not an object: "+r);_=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(D+t+" invalid: "+r);O=r}}return{DECIMAL_PLACES:y,ROUNDING_MODE:d,EXPONENTIAL_AT:[m,v],RANGE:[g,b],CRYPTO:w,MODULO_MODE:k,POW_PRECISION:x,FORMAT:_,ALPHABET:O}},E.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!E.DEBUG)return!0;var t,r,n=e.c,o=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===i||-1===i)&&o>=-q&&o<=q&&o===L(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break e}if((t=(o+1)%F)<1&&(t+=F),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=H||r!==L(r))break e;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(D+"Invalid BigNumber: "+e)},E.maximum=E.max=function(){return A(arguments,h.lt)},E.minimum=E.min=function(){return A(arguments,h.gt)},E.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return L(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,o,i,c=0,u=[],s=new E(p);if(null==e?e=y:Y(e,0,q),o=U(e/F),w)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));c<o;)(i=131072*t[c]+(t[c+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[c]=r[0],t[c+1]=r[1]):(u.push(i%1e14),c+=2);c=o/2}else{if(!crypto.randomBytes)throw w=!1,Error(D+"crypto unavailable");for(t=crypto.randomBytes(o*=7);c<o;)(i=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(u.push(i%1e14),c+=7);c=o/7}if(!w)for(;c<o;)(i=a())<9e15&&(u[c++]=i%1e14);for(o=u[--c],e%=F,o&&e&&(i=z[F-e],u[c]=L(o/i)*i);0===u[c];u.pop(),c--);if(c<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=F);for(c=1,i=u[0];i>=10;i/=10,c++);c<F&&(n-=F-c)}return s.e=n,s.c=u,s}),E.sum=function(){for(var e=1,t=arguments,r=new E(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var o,i,a=[0],c=0,u=e.length;c<u;){for(i=a.length;i--;a[i]*=t);for(a[0]+=n.indexOf(e.charAt(c++)),o=0;o<a.length;o++)a[o]>r-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/r|0,a[o]%=r)}return a.reverse()}return function(n,o,i,a,c){var u,s,f,l,h,p,m,v,g=n.indexOf("."),b=y,w=d;for(g>=0&&(l=x,x=0,n=n.replace(".",""),p=(v=new E(o)).pow(n.length-g),x=l,v.c=t(K($(p.c),p.e,"0"),10,i,e),v.e=v.c.length),f=l=(m=t(n,o,i,c?(u=O,e):(u=e,O))).length;0==m[--l];m.pop());if(!m[0])return u.charAt(0);if(g<0?--f:(p.c=m,p.e=f,p.s=a,m=(p=r(p,v,b,w,i)).c,h=p.r,f=p.e),g=m[s=f+b+1],l=i/2,h=h||s<0||null!=m[s+1],h=w<4?(null!=g||h)&&(0==w||w==(p.s<0?3:2)):g>l||g==l&&(4==w||h||6==w&&1&m[s-1]||w==(p.s<0?8:7)),s<1||!m[0])n=h?K(u.charAt(1),-b,u.charAt(0)):u.charAt(0);else{if(m.length=s,h)for(--i;++m[--s]>i;)m[s]=0,s||(++f,m=[1].concat(m));for(l=m.length;!m[--l];);for(g=0,n="";g<=l;n+=u.charAt(m[g++]));n=K(n,f,u.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,o,i,a,c=0,u=e.length,s=t%W,f=t/W|0;for(e=e.slice();u--;)c=((o=s*(i=e[u]%W)+(n=f*i+(a=e[u]/W|0)*s)%W*W+c)/r|0)+(n/W|0)+f*a,e[u]=o%r;return c&&(e=[c].concat(e)),e}function t(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function r(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,i,a,c){var u,s,f,l,h,p,y,d,m,v,g,b,w,k,x,_,O,S=n.s==o.s?1:-1,A=n.c,R=o.c;if(!(A&&A[0]&&R&&R[0]))return new E(n.s&&o.s&&(A?!R||A[0]!=R[0]:R)?A&&0==A[0]||!R?0*S:S/0:NaN);for(m=(d=new E(S)).c=[],S=i+(s=n.e-o.e)+1,c||(c=H,s=V(n.e/F)-V(o.e/F),S=S/F|0),f=0;R[f]==(A[f]||0);f++);if(R[f]>(A[f]||0)&&s--,S<0)m.push(1),l=!0;else{for(k=A.length,_=R.length,f=0,S+=2,(h=L(c/(R[0]+1)))>1&&(R=e(R,h,c),A=e(A,h,c),_=R.length,k=A.length),w=_,g=(v=A.slice(0,_)).length;g<_;v[g++]=0);O=R.slice(),O=[0].concat(O),x=R[0],R[1]>=c/2&&x++;do{if(h=0,(u=t(R,v,_,g))<0){if(b=v[0],_!=g&&(b=b*c+(v[1]||0)),(h=L(b/x))>1)for(h>=c&&(h=c-1),y=(p=e(R,h,c)).length,g=v.length;1==t(p,v,y,g);)h--,r(p,_<y?O:R,y,c),y=p.length,u=1;else 0==h&&(u=h=1),y=(p=R.slice()).length;if(y<g&&(p=[0].concat(p)),r(v,p,g,c),g=v.length,-1==u)for(;t(R,v,_,g)<1;)h++,r(v,_<g?O:R,g,c),g=v.length}else 0===u&&(h++,v=[0]);m[f++]=h,v[0]?v[g++]=A[w]||0:(v=[A[w]],g=1)}while((w++<k||null!=v[0])&&S--);l=null!=v[0],m[0]||m.splice(0,1)}if(c==H){for(f=1,S=m[0];S>=10;S/=10,f++);T(d,i+(d.e=f+s*F-1)+1,a,l)}else d.e=s,d.r=+l;return d}}(),c=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,s=/^\.([^.]+)$/,f=/^-?(Infinity|NaN)$/,l=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(e,t,r,n){var o,i=r?t:t.replace(l,"");if(f.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(c,(function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t})),n&&(o=n,i=i.replace(u,"$1").replace(s,"0.$1")),t!=i))return new E(i,o);if(E.DEBUG)throw Error(D+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},h.absoluteValue=h.abs=function(){var e=new E(this);return e.s<0&&(e.s=1),e},h.comparedTo=function(e,t){return J(this,new E(e,t))},h.decimalPlaces=h.dp=function(e,t){var r,n,o,i=this;if(null!=e)return Y(e,0,q),null==t?t=d:Y(t,0,8),T(new E(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=((o=r.length-1)-V(this.e/F))*F,o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},h.dividedBy=h.div=function(e,t){return r(this,new E(e,t),y,d)},h.dividedToIntegerBy=h.idiv=function(e,t){return r(this,new E(e,t),0,1)},h.exponentiatedBy=h.pow=function(e,t){var r,n,o,i,a,c,u,s,f=this;if((e=new E(e)).c&&!e.isInteger())throw Error(D+"Exponent not an integer: "+C(e));if(null!=t&&(t=new E(t)),a=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return s=new E(Math.pow(+C(f),a?2-X(e):+C(e))),t?s.mod(t):s;if(c=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new E(NaN);(n=!c&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||a&&f.c[1]>=24e7:f.c[0]<8e13||a&&f.c[0]<=9999975e7)))return i=f.s<0&&X(e)?-0:0,f.e>-1&&(i=1/i),new E(c?1/i:i);x&&(i=U(x/F+2))}for(a?(r=new E(.5),c&&(e.s=1),u=X(e)):u=(o=Math.abs(+C(e)))%2,s=new E(p);;){if(u){if(!(s=s.times(f)).c)break;i?s.c.length>i&&(s.c.length=i):n&&(s=s.mod(t))}if(o){if(0===(o=L(o/2)))break;u=o%2}else if(T(e=e.times(r),e.e+1,1),e.e>14)u=X(e);else{if(0==(o=+C(e)))break;u=o%2}f=f.times(f),i?f.c&&f.c.length>i&&(f.c.length=i):n&&(f=f.mod(t))}return n?s:(c&&(s=p.div(s)),t?s.mod(t):i?T(s,x,d,void 0):s)},h.integerValue=function(e){var t=new E(this);return null==e?e=d:Y(e,0,8),T(t,t.e+1,e)},h.isEqualTo=h.eq=function(e,t){return 0===J(this,new E(e,t))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(e,t){return J(this,new E(e,t))>0},h.isGreaterThanOrEqualTo=h.gte=function(e,t){return 1===(t=J(this,new E(e,t)))||0===t},h.isInteger=function(){return!!this.c&&V(this.e/F)>this.c.length-2},h.isLessThan=h.lt=function(e,t){return J(this,new E(e,t))<0},h.isLessThanOrEqualTo=h.lte=function(e,t){return-1===(t=J(this,new E(e,t)))||0===t},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(e,t){var r,n,o,i,a=this,c=a.s;if(t=(e=new E(e,t)).s,!c||!t)return new E(NaN);if(c!=t)return e.s=-t,a.plus(e);var u=a.e/F,s=e.e/F,f=a.c,l=e.c;if(!u||!s){if(!f||!l)return f?(e.s=-t,e):new E(l?a:NaN);if(!f[0]||!l[0])return l[0]?(e.s=-t,e):new E(f[0]?a:3==d?-0:0)}if(u=V(u),s=V(s),f=f.slice(),c=u-s){for((i=c<0)?(c=-c,o=f):(s=u,o=l),o.reverse(),t=c;t--;o.push(0));o.reverse()}else for(n=(i=(c=f.length)<(t=l.length))?c:t,c=t=0;t<n;t++)if(f[t]!=l[t]){i=f[t]<l[t];break}if(i&&(o=f,f=l,l=o,e.s=-e.s),(t=(n=l.length)-(r=f.length))>0)for(;t--;f[r++]=0);for(t=H-1;n>c;){if(f[--n]<l[n]){for(r=n;r&&!f[--r];f[r]=t);--f[r],f[n]+=H}f[n]-=l[n]}for(;0==f[0];f.splice(0,1),--s);return f[0]?R(e,f,s):(e.s=3==d?-1:1,e.c=[e.e=0],e)},h.modulo=h.mod=function(e,t){var n,o,i=this;return e=new E(e,t),!i.c||!e.s||e.c&&!e.c[0]?new E(NaN):!e.c||i.c&&!i.c[0]?new E(i):(9==k?(o=e.s,e.s=1,n=r(i,e,0,3),e.s=o,n.s*=o):n=r(i,e,0,k),(e=i.minus(n.times(e))).c[0]||1!=k||(e.s=i.s),e)},h.multipliedBy=h.times=function(e,t){var r,n,o,i,a,c,u,s,f,l,h,p,y,d,m,v=this,g=v.c,b=(e=new E(e,t)).c;if(!(g&&b&&g[0]&&b[0]))return!v.s||!e.s||g&&!g[0]&&!b||b&&!b[0]&&!g?e.c=e.e=e.s=null:(e.s*=v.s,g&&b?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=V(v.e/F)+V(e.e/F),e.s*=v.s,(u=g.length)<(l=b.length)&&(y=g,g=b,b=y,o=u,u=l,l=o),o=u+l,y=[];o--;y.push(0));for(d=H,m=W,o=l;--o>=0;){for(r=0,h=b[o]%m,p=b[o]/m|0,i=o+(a=u);i>o;)r=((s=h*(s=g[--a]%m)+(c=p*s+(f=g[a]/m|0)*h)%m*m+y[i]+r)/d|0)+(c/m|0)+p*f,y[i--]=s%d;y[i]=r}return r?++n:y.splice(0,1),R(e,y,n)},h.negated=function(){var e=new E(this);return e.s=-e.s||null,e},h.plus=function(e,t){var r,n=this,o=n.s;if(t=(e=new E(e,t)).s,!o||!t)return new E(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/F,a=e.e/F,c=n.c,u=e.c;if(!i||!a){if(!c||!u)return new E(o/0);if(!c[0]||!u[0])return u[0]?e:new E(c[0]?n:0*o)}if(i=V(i),a=V(a),c=c.slice(),o=i-a){for(o>0?(a=i,r=u):(o=-o,r=c),r.reverse();o--;r.push(0));r.reverse()}for((o=c.length)-(t=u.length)<0&&(r=u,u=c,c=r,t=o),o=0;t;)o=(c[--t]=c[t]+u[t]+o)/H|0,c[t]=H===c[t]?0:c[t]%H;return o&&(c=[o].concat(c),++a),R(e,c,a)},h.precision=h.sd=function(e,t){var r,n,o,i=this;if(null!=e&&e!==!!e)return Y(e,1,q),null==t?t=d:Y(t,0,8),T(new E(i),e,t);if(!(r=i.c))return null;if(n=(o=r.length-1)*F+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},h.shiftedBy=function(e){return Y(e,-9007199254740991,G),this.times("1e"+e)},h.squareRoot=h.sqrt=function(){var e,t,n,o,i,a=this,c=a.c,u=a.s,s=a.e,f=y+4,l=new E("0.5");if(1!==u||!c||!c[0])return new E(!u||u<0&&(!c||c[0])?NaN:c?a:1/0);if(0==(u=Math.sqrt(+C(a)))||u==1/0?(((t=$(c)).length+s)%2==0&&(t+="0"),u=Math.sqrt(+t),s=V((s+1)/2)-(s<0||s%2),n=new E(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new E(u+""),n.c[0])for((u=(s=n.e)+f)<3&&(u=0);;)if(i=n,n=l.times(i.plus(r(a,i,f,1))),$(i.c).slice(0,u)===(t=$(n.c)).slice(0,u)){if(n.e<s&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(T(n,n.e+y+2,1),e=!n.times(n).eq(a));break}if(!o&&(T(i,i.e+y+2,0),i.times(i).eq(a))){n=i;break}f+=4,u+=4,o=1}return T(n,n.e+y+1,d,e)},h.toExponential=function(e,t){return null!=e&&(Y(e,0,q),e++),S(this,e,t,1)},h.toFixed=function(e,t){return null!=e&&(Y(e,0,q),e=e+this.e+1),S(this,e,t)},h.toFormat=function(e,t,r){var n,o=this;if(null==r)null!=e&&t&&"object"==B(t)?(r=t,t=null):e&&"object"==B(e)?(r=e,e=t=null):r=_;else if("object"!=B(r))throw Error(D+"Argument not an object: "+r);if(n=o.toFixed(e,t),o.c){var i,a=n.split("."),c=+r.groupSize,u=+r.secondaryGroupSize,s=r.groupSeparator||"",f=a[0],l=a[1],h=o.s<0,p=h?f.slice(1):f,y=p.length;if(u&&(i=c,c=u,u=i,y-=i),c>0&&y>0){for(i=y%c||c,f=p.substr(0,i);i<y;i+=c)f+=s+p.substr(i,c);u>0&&(f+=s+p.slice(i)),h&&(f="-"+f)}n=l?f+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):l):f}return(r.prefix||"")+n+(r.suffix||"")},h.toFraction=function(e){var t,n,o,i,a,c,u,s,f,l,h,y,m=this,v=m.c;if(null!=e&&(!(u=new E(e)).isInteger()&&(u.c||1!==u.s)||u.lt(p)))throw Error(D+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+C(u));if(!v)return new E(m);for(t=new E(p),f=n=new E(p),o=s=new E(p),y=$(v),a=t.e=y.length-m.e-1,t.c[0]=z[(c=a%F)<0?F+c:c],e=!e||u.comparedTo(t)>0?a>0?t:f:u,c=b,b=1/0,u=new E(y),s.c[0]=0;l=r(u,t,0,1),1!=(i=n.plus(l.times(o))).comparedTo(e);)n=o,o=i,f=s.plus(l.times(i=f)),s=i,t=u.minus(l.times(i=t)),u=i;return i=r(e.minus(n),o,0,1),s=s.plus(i.times(f)),n=n.plus(i.times(o)),s.s=f.s=m.s,h=r(f,o,a*=2,d).minus(m).abs().comparedTo(r(s,n,a,d).minus(m).abs())<1?[f,o]:[s,n],b=c,h},h.toNumber=function(){return+C(this)},h.toPrecision=function(e,t){return null!=e&&Y(e,1,q),S(this,e,t,2)},h.toString=function(e){var t,r=this,o=r.s,i=r.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=m||i>=v?Z($(r.c),i):K($(r.c),i,"0"):10===e?t=K($((r=T(new E(r),y+i+1,d)).c),r.e,"0"):(Y(e,2,O.length,"Base"),t=n(K($(r.c),i,"0"),10,e,o,!0)),o<0&&r.c[0]&&(t="-"+t)),t},h.valueOf=h.toJSON=function(){return C(this)},h._isBigNumber=!0,null!=t&&E.set(t),E}();const Q=j;function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"leftPad32",value:function(e){var t="";if("string"==typeof e)t=e.padStart(64,"0");else try{t=e.toString(16).padStart(64,"0")}catch(e){t=new Array(64).fill(0).join("")}return t}},{key:"parseString",value:function(e){var t=this,r=e;if("0"==r.indexOf("0x")&&(r=r.substr(2)),r.length>64)return N.chunkSubstr(r,64).slice(2).map((function(e){return t.parseString(e)})).join("");var n="";try{n=decodeURIComponent("%"+r.match(/.{1,2}/g).filter((function(e){return"00"!=e})).join("%"))}catch(e){}return n}},{key:"parseHexRLP",value:function(e){var t=e;return"0"==t.indexOf("0x")&&(t=t.substr(2)),t.length>64?N.chunkSubstr(t,64):[t]}},{key:"toSmallestUnitHex",value:function(e){var t=e.amount,r=e.decimals;return new Q(t).multipliedBy(new Q(10).pow(r)).toString(16)}},{key:"toContractData",value:function(e){var t=this,r=e.func,n=e.params;if(!r)return"0x";var o="string"==typeof r?r:r.toString(),i=Array.isArray(n)?n.map((function(e){return t.leftPad32(N.toHex(e))})):[this.leftPad32(N.toHex(n))];return"0x".concat(P.Z.keccak256(o).substr(0,8)).concat(i.join(""))}},{key:"isEthereumAddress",value:function(e){return/^0x[a-fA-F0-9]{40}$/.test(e)}}],null&&ee(t.prototype,null),r&&ee(t,r),e}();function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ie(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function ae(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ie(i,n,o,a,c,"next",e)}function c(e){ie(i,n,o,a,c,"throw",e)}a(void 0)}))}}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e,t){return se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},se(e,t)}function fe(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(k,e);var t,r,n,o,i,a,c,u,f,l,h,p,y,d,m,v,g,b,w=(g=k,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(g);if(b){var r=he(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return fe(this,e)});function k(){var e;ce(this,k);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pe(le(e=w.call.apply(w,[this].concat(r))),"_type",s.Metamask),e}return t=k,r=[{key:"connect",value:(v=ae(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.blockchain)){e.next=4;break}return e.next=4,this._addBlockchain({blockchain:r});case 4:return e.abrupt("return",this._connect({blockchain:r}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"disconnect",value:(m=ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isConnected=!1;case 1:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"send",value:(d=ae(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,c,u,s,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.from,n=void 0===r?this.address:r,o=t.to,i=t.amount,a=t.data,e.next=3,this.getDecimals();case 3:return c=e.sent,u=te.toSmallestUnitHex({amount:i,decimals:c}),s={from:n,to:o,value:u,data:a,chainId:this._chainId},f={method:"eth_sendTransaction",params:[s]},e.next=9,ethereum.request(f);case 9:return l=e.sent,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"getData",value:(y=ae(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.contract,n=t.data,o=t.func,i=t.params,!n){e.next=7;break}return console.log(r,n),a={method:"eth_call",params:[{to:r,data:n}]},e.abrupt("return",ethereum.request(a));case 7:return c=te.toContractData({func:o,params:i}),e.next=10,this.getData({contract:r,data:c});case 10:return u=e.sent,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"getBalance",value:(p=ae(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},r=t.contract,n=t.address,o=n,te.isEthereumAddress(n)||(o=this.address),"string"!=typeof r){e.next=5;break}return e.abrupt("return",this.getContractBalance({contract:r,address:n}));case 5:return i={method:"eth_getBalance",params:[o,"latest"]},e.abrupt("return",ethereum.request(i).then((function(e){return new Q(e).dividedBy(new Q(10).pow(18)).toString()})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getContractBalance",value:(h=ae(regeneratorRuntime.mark((function e(){var t,r,n,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.contract,n=t.address,o=n,te.isEthereumAddress(n)||(o=this.address),e.abrupt("return",Promise.all([this.getData({contract:r,func:"balanceOf(address)",params:[o]}),this.getDecimals({contract:r})]).then((function(e){var t=ne(e,2),r=t[0],n=t[1],o=new Q(r).dividedBy(new Q(10).pow(n)).toString();return Promise.resolve(o)})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getDecimals",value:(l=ae(regeneratorRuntime.mark((function e(){var t,r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.contract){e.next=4;break}try{n=this.blockchain.nativeCurrency.decimals}catch(e){n=18}return e.abrupt("return",Promise.resolve(n));case 4:return e.abrupt("return",this.getData({contract:r,func:"decimals()"}).then((function(e){var t=parseInt(e);return Promise.resolve(t)})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getName",value:(f=ae(regeneratorRuntime.mark((function e(){var t,r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.contract){e.next=4;break}try{n=this.blockchain.nativeCurrency.symbol}catch(e){n="ETH"}return e.abrupt("return",Promise.resolve(n));case 4:return e.abrupt("return",this.getData({contract:r,func:"name()"}).then((function(e){var t=te.parseString(e);return Promise.resolve(t)})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getSymbol",value:(u=ae(regeneratorRuntime.mark((function e(){var t,r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.contract){e.next=4;break}try{n=this.blockchain.nativeCurrency.symbol}catch(e){n="ETH"}return e.abrupt("return",Promise.resolve(n));case 4:return e.abrupt("return",this.getData({contract:r,func:"symbol()"}).then((function(e){var t=te.parseString(e);return Promise.resolve(t)})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getTotalSupply",value:(c=ae(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{},r=t.contract){e.next=3;break}return e.abrupt("return",Promise.resolve("0"));case 3:return e.abrupt("return",Promise.all([this.getData({contract:r,func:"totalSupply()"}),this.getDecimals({contract:r})]).then((function(e){var t=ne(e,2),r=t[0],n=t[1],o=new Q(r).dividedBy(new Q(10).pow(n)).toString();return Promise.resolve(o)})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getAsset",value:(a=ae(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=t.contract,t.decimals,e.abrupt("return",Promise.all([this.getName({contract:r}),this.getSymbol({contract:r}),this.getDecimals({contract:r}),this.getTotalSupply({contract:r})]).then((function(e){var t=ne(e,4),r=t[0],n=t[1],o=t[2],i=t[3];return Promise.resolve({name:r,symbol:n,decimals:o,totalSupply:i})})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"_connect",value:(i=ae(regeneratorRuntime.mark((function e(t){var r,n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockchain,n={method:"eth_requestAccounts"},e.abrupt("return",ethereum.request(n).then((function(e){return o._blockchain=r,o._address=e[0],o._isConnected=!0,o._switchBlockchain(r)})));case 3:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"_addBlockchain",value:(o=ae(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.blockchain,n=parseInt(r.chainId),!([1,3,4,5,42].indexOf(n)>-1)){e.next=5;break}return e.abrupt("return",!0);case 5:return o={method:"wallet_addEthereumChain",params:[r]},e.abrupt("return",ethereum.request(o));case 7:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"_switchBlockchain",value:(n=ae(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.chainId,n={method:"wallet_switchEthereumChain",params:[{chainId:r}]},e.abrupt("return",ethereum.request(n));case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}],r&&ue(t.prototype,r),k}(p);const de=ye;function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"types",get:function(){return["TideWallet","Metamask","imToken"]}},{key:"create",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(console.log("create ".concat(t)),t){case s.TideWallet:e=new k;break;case s.imToken:e=new T;break;case s.Metamask:e=new de}return e}}],null&&me(t.prototype,null),r&&me(t,r),e}();const ge=ve;function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const we=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"getPlatform",value:function(){var e="unknown environment";try{e=navigator.userAgent}catch(e){}return e}},{key:"getWallets",value:function(){var e=[];try{window.ethereum.isMetaMask&&e.push(s.Metamask)}catch(e){}try{window.ethereum.isImToken&&e.push(s.imToken)}catch(e){}try{window.ethereum.isTideWallet&&e.push(s.TideWallet)}catch(e){}return e}}],null&&be(t.prototype,null),r&&be(t,r),e}();function ke(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function xe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ke(i,n,o,a,c,"next",e)}function c(e){ke(i,n,o,a,c,"throw",e)}a(void 0)}))}}function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e);var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Oe(this,"_connector",void 0),Oe(this,"_connectors",[]),Oe(this,"_blockchain",void 0),this._connector=ge.create()}var t,r,n,o,i,a,c,u,s,f;return t=e,r=[{key:"env",get:function(){return{platform:we.getPlatform(),wallets:we.getWallets()}}},{key:"isConnected",get:function(){return!!this._connector&&this._connector.isConnected}},{key:"address",get:function(){return!!this._connector&&this._connector.address}},{key:"blockchain",get:function(){return this._blockchain}},{key:"findConnector",value:function(e){var t=e.walletType;return this._connectors.filter((function(e){return!!e})).find((function(e){return e.type=t}))}},{key:"connect",value:(f=xe(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.wallet,n=t.blockchain,!this.isConnected){e.next=3;break}return e.abrupt("return",!0);case 3:return o=this.env.wallets[0],i=r||o,this._connector=this.findConnector({walletType:i}),this._connector||(a=ge.create(i),this._connectors.push(a),this._connector=a),e.next=9,this._connector.connect({blockchain:n});case 9:return this._blockchain=e.sent,e.abrupt("return",this.address);case 11:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"switchBlockchain",value:(s=xe(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.chainId,awaitthis._connector._switchBlockchain({chainId:r}),e.abrupt("return",this.address);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"disconnect",value:(u=xe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._connector.disconnect());case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getAsset",value:(c=xe(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=t.contract,e.abrupt("return",this._connector.getAsset({contract:r}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getBalance",value:(a=xe(regeneratorRuntime.mark((function e(){var t,r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.contract,n=t.address,e.abrupt("return",this._connector.getBalance({contract:r,address:n}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getData",value:(i=xe(regeneratorRuntime.mark((function e(t){var r,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contract,n=t.func,o=t.params,i=t.data,e.abrupt("return",this._connector.getData({contract:r,func:n,params:o,data:i}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"send",value:(o=xe(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.to,n=t.amount,o=t.data,e.abrupt("return",this._connector.send({to:r,amount:n,data:o}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"interfaceOf",value:(n=xe(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contract,n=t.abi,e.abrupt("return",this._connector.interfaceOf({contract:r,abi:n}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}],r&&_e(t.prototype,r),e}();Oe(Ee,"Blockchains",a),Oe(Ee,"Wallets",s),window?window.Lunar=Ee:e.exports=Ee}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n](i,i.exports,r),i.loaded=!0,i.exports}r.amdO={},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r(751),r(679)})();